import{E as t,a as e,b as a,d as o}from"./types.69209817.js";import{S as y}from"./SvgIcon.6294964d.js";import{d as c,C as x,D as s,r as n,o as r,c as d,a as i,F as l,j as _,n as v,t as u,b as m,k as p,E as k}from"./vendor.570f964d.js";const g=[{name:"Маневрирование",type:t.Fire,effects:["FuelTank"],levels:[{targetCount:0,move:[],attack:[],rotate:[e._90,e._270],steps:[{action:a.Rotate,directions:[e._90,e._270]}]},{targetCount:0,move:[],attack:[],rotate:[e._90,e._180,e._270],steps:[{action:a.Rotate,directions:[e._90,e._180,e._270]}]},{targetCount:0,move:[],attack:[],rotate:[e._0,e._90,e._180,e._270],steps:[{action:a.Rotate,directions:[e._0,e._90,e._180,e._270]}]}]},{name:"Пламя",type:t.Fire,effects:[],levels:[{targetCount:2,move:[{x:0,y:1}],attack:[{x:-1,y:0},{x:1,y:0}],rotate:[],steps:[{action:a.Move,coords:[{x:0,y:1}],desc:"1 клетка вперёд"},{action:a.Attack,coords:[{x:-1,y:0},{x:1,y:0}],count:2,desc:"По бокам"}]},{targetCount:2,move:[{x:0,y:2}],attack:[{x:-1,y:0},{x:1,y:0}],rotate:[],steps:[{action:a.Move,coords:[{x:0,y:2}],desc:"2 клетки вперёд"},{action:a.Attack,coords:[{x:-1,y:0},{x:1,y:0}],count:2,desc:"По бокам"}]},{targetCount:2,move:[{x:0,y:3}],attack:[{x:-1,y:0},{x:1,y:0}],rotate:[],steps:[{action:a.Move,coords:[{x:0,y:3}],desc:"3 клетки вперёд"},{action:a.Attack,coords:[{x:-1,y:0},{x:1,y:0}],count:2,desc:"По бокам"}]}]},{name:"Огнемёт",type:t.Fire,effects:[],levels:[{targetCount:999,move:[],attack:[{x:0,y:1},{x:0,y:2}],rotate:[],steps:[{action:a.Attack,coords:[{x:0,y:1},{x:0,y:2}],desc:"2 клетки спереди"}]},{targetCount:999,move:[],attack:[{x:0,y:1},{x:0,y:2},{x:-1,y:2},{x:1,y:2}],rotate:[],steps:[{action:a.Attack,coords:[{x:0,y:1},{x:0,y:2},{x:-1,y:2},{x:1,y:2}],desc:"4 клетки спереди буквой T"}]},{targetCount:999,move:[],attack:[{x:0,y:1},{x:0,y:2},{x:-1,y:2},{x:1,y:2},{x:-1,y:3},{x:0,y:3},{x:1,y:3}],rotate:[],steps:[{action:a.Attack,coords:[{x:0,y:1},{x:0,y:2},{x:-1,y:2},{x:1,y:2},{x:-1,y:3},{x:0,y:3},{x:1,y:3}],desc:"7 клеток спереди буквой T"}]}]},{name:"Настройка",type:t.Computer,effects:["FuelTank"],levels:[{targetCount:0,move:[],attack:[],rotate:[e._90,e._270],steps:[{action:a.Rotate,directions:[e._90,e._270]}]},{targetCount:0,move:[],attack:[],rotate:[e._90,e._180,e._270],steps:[{action:a.Rotate,directions:[e._90,e._180,e._270]}]},{targetCount:0,move:[],attack:[],rotate:[e._0,e._90,e._180,e._270],steps:[{action:a.Rotate,directions:[e._0,e._90,e._180,e._270]}]}]},{name:"Сальто",type:t.Computer,effects:[],levels:[{targetCount:0,move:[{x:0,y:1},{x:-1,y:0},{x:1,y:0}],attack:[],rotate:[],steps:[{action:a.Move,coords:[{x:0,y:1},{x:-1,y:0},{x:1,y:0}],desc:"1 клетка вперед, влево или вправо"}]},{targetCount:0,move:[{x:0,y:2},{x:-2,y:0},{x:2,y:0}],attack:[],rotate:[],steps:[{action:a.Move,coords:[{x:0,y:2},{x:-2,y:0},{x:2,y:0}],desc:"2 клетки вперед, влево или вправо"}]},{targetCount:0,move:[{x:0,y:3},{x:-3,y:0},{x:3,y:0}],attack:[],rotate:[],steps:[{action:a.Move,coords:[{x:0,y:3},{x:-3,y:0},{x:3,y:0}],desc:"3 клетки вперед, влево или вправо"}]}]},{name:"Прицельный выстрел",type:t.Computer,effects:[],levels:[{targetCount:1,move:[],attack:[{x:0,y:1},{x:1,y:1},{x:1,y:0},{x:1,y:-1},{x:0,y:-1},{x:-1,y:-1},{x:-1,y:0},{x:-1,y:1}],rotate:[],steps:[{action:a.Attack,coords:[{x:0,y:1},{x:1,y:1},{x:1,y:0},{x:1,y:-1},{x:0,y:-1},{x:-1,y:-1},{x:-1,y:0},{x:-1,y:1}],count:1,desc:"1 цель в радиусе 1"}]},{targetCount:1,move:[],attack:[{x:0,y:1},{x:1,y:1},{x:1,y:0},{x:1,y:-1},{x:0,y:-1},{x:-1,y:-1},{x:-1,y:0},{x:-1,y:1},{x:0,y:2},{x:1,y:2},{x:2,y:2},{x:2,y:1},{x:2,y:0},{x:2,y:-1},{x:2,y:-2},{x:1,y:-2},{x:0,y:-2},{x:-1,y:-2},{x:-2,y:-2},{x:-2,y:-1},{x:-2,y:0},{x:-2,y:1},{x:-2,y:2},{x:-1,y:2}],rotate:[],steps:[{action:a.Attack,coords:[{x:0,y:1},{x:1,y:1},{x:1,y:0},{x:1,y:-1},{x:0,y:-1},{x:-1,y:-1},{x:-1,y:0},{x:-1,y:1},{x:0,y:2},{x:1,y:2},{x:2,y:2},{x:2,y:1},{x:2,y:0},{x:2,y:-1},{x:2,y:-2},{x:1,y:-2},{x:0,y:-2},{x:-1,y:-2},{x:-2,y:-2},{x:-2,y:-1},{x:-2,y:0},{x:-2,y:1},{x:-2,y:2},{x:-1,y:2}],count:1,desc:"1 цель в радиусе 2"}]},{targetCount:1,move:[],attack:[{x:0,y:1},{x:1,y:1},{x:1,y:0},{x:1,y:-1},{x:0,y:-1},{x:-1,y:-1},{x:-1,y:0},{x:-1,y:1},{x:0,y:2},{x:1,y:2},{x:2,y:2},{x:2,y:1},{x:2,y:0},{x:2,y:-1},{x:2,y:-2},{x:1,y:-2},{x:0,y:-2},{x:-1,y:-2},{x:-2,y:-2},{x:-2,y:-1},{x:-2,y:0},{x:-2,y:1},{x:-2,y:2},{x:-1,y:2},{x:0,y:3},{x:1,y:3},{x:2,y:3},{x:3,y:3},{x:3,y:2},{x:3,y:1},{x:3,y:0},{x:3,y:-1},{x:3,y:-2},{x:3,y:-3},{x:2,y:-3},{x:1,y:-3},{x:0,y:-3},{x:-1,y:-3},{x:-2,y:-3},{x:-3,y:-3},{x:-3,y:-2},{x:-3,y:-1},{x:-3,y:0},{x:-3,y:1},{x:-3,y:2},{x:-3,y:3},{x:-2,y:3},{x:-1,y:3}],rotate:[],steps:[{action:a.Attack,coords:[{x:0,y:1},{x:1,y:1},{x:1,y:0},{x:1,y:-1},{x:0,y:-1},{x:-1,y:-1},{x:-1,y:0},{x:-1,y:1},{x:0,y:2},{x:1,y:2},{x:2,y:2},{x:2,y:1},{x:2,y:0},{x:2,y:-1},{x:2,y:-2},{x:1,y:-2},{x:0,y:-2},{x:-1,y:-2},{x:-2,y:-2},{x:-2,y:-1},{x:-2,y:0},{x:-2,y:1},{x:-2,y:2},{x:-1,y:2},{x:0,y:3},{x:1,y:3},{x:2,y:3},{x:3,y:3},{x:3,y:2},{x:3,y:1},{x:3,y:0},{x:3,y:-1},{x:3,y:-2},{x:3,y:-3},{x:2,y:-3},{x:1,y:-3},{x:0,y:-3},{x:-1,y:-3},{x:-2,y:-3},{x:-3,y:-3},{x:-3,y:-2},{x:-3,y:-1},{x:-3,y:0},{x:-3,y:1},{x:-3,y:2},{x:-3,y:3},{x:-2,y:3},{x:-1,y:3}],count:1,desc:"1 цель в радиусе 3"}]}]},{name:"Коса",type:t.Metal,effects:[],levels:[{targetCount:1,move:[],attack:[{x:0,y:1},{x:1,y:1},{x:1,y:0},{x:1,y:-1},{x:0,y:-1},{x:-1,y:-1},{x:-1,y:0},{x:-1,y:1}],rotate:[e._90,e._270],steps:[{action:a.Rotate,directions:[e._90,e._270]},{action:a.Attack,coords:[{x:0,y:1},{x:1,y:1},{x:1,y:0},{x:1,y:-1},{x:0,y:-1},{x:-1,y:-1},{x:-1,y:0},{x:-1,y:1}],count:1,desc:"1 цель в радиусе 1"}]},{targetCount:2,move:[],attack:[{x:0,y:1},{x:1,y:1},{x:1,y:0},{x:1,y:-1},{x:0,y:-1},{x:-1,y:-1},{x:-1,y:0},{x:-1,y:1}],rotate:[e._90,e._180,e._270],steps:[{action:a.Rotate,directions:[e._90,e._180,e._270]},{action:a.Attack,coords:[{x:0,y:1},{x:1,y:1},{x:1,y:0},{x:1,y:-1},{x:0,y:-1},{x:-1,y:-1},{x:-1,y:0},{x:-1,y:1}],count:2,desc:"2 цели в радиусе 1"}]},{targetCount:3,move:[],attack:[{x:0,y:1},{x:1,y:1},{x:1,y:0},{x:1,y:-1},{x:0,y:-1},{x:-1,y:-1},{x:-1,y:0},{x:-1,y:1}],rotate:[e._0,e._90,e._180,e._270],steps:[{action:a.Rotate,directions:[e._0,e._90,e._180,e._270]},{action:a.Attack,coords:[{x:0,y:1},{x:1,y:1},{x:1,y:0},{x:1,y:-1},{x:0,y:-1},{x:-1,y:-1},{x:-1,y:0},{x:-1,y:1}],count:3,desc:"3 цели в радиусе 1"}]}]},{name:"Прыжок",type:t.Metal,effects:[],levels:[{targetCount:2,move:[{x:0,y:1}],attack:[],rotate:[],steps:[{action:a.Move,coords:[{x:0,y:1}],desc:"1 клетка вперёд"}]},{targetCount:2,move:[{x:0,y:2}],attack:[],rotate:[],steps:[{action:a.Move,coords:[{x:0,y:2}],desc:"2 клетки вперёд"}]},{targetCount:2,move:[{x:0,y:3}],attack:[],rotate:[],steps:[{action:a.Move,coords:[{x:0,y:3}],desc:"3 клетки вперёд"}]}]},{name:"Шпага",type:t.Metal,effects:["Ripsaw"],levels:[{targetCount:1,move:[],attack:[{x:0,y:1}],rotate:[],steps:[{action:a.Attack,coords:[{x:0,y:1}],count:1,desc:"1 цель перед вами"}]},{targetCount:2,move:[],attack:[{x:0,y:1},{x:0,y:2}],rotate:[],steps:[{action:a.Attack,coords:[{x:0,y:1},{x:0,y:2}],count:2,desc:"2 цели перед вами"}]},{targetCount:3,move:[],attack:[{x:0,y:1},{x:0,y:2},{x:0,y:3}],rotate:[],steps:[{action:a.Attack,coords:[{x:0,y:1},{x:0,y:2},{x:0,y:3}],count:3,desc:"3 цели перед вами"}]}]},{name:"Безумное вращение",type:t.Electro,effects:[],levels:[{targetCount:999,move:[],attack:[{x:1,y:1},{x:-1,y:-1},{x:1,y:-1},{x:-1,y:1}],rotate:[e._90,e._270],steps:[{action:a.Rotate,directions:[e._90,e._270]},{action:a.Attack,coords:[{x:1,y:1},{x:-1,y:-1},{x:1,y:-1},{x:-1,y:1}],desc:"По диагонали в радиусе 1"}]},{targetCount:999,move:[],attack:[{x:1,y:1},{x:-1,y:-1},{x:1,y:-1},{x:-1,y:1},{x:2,y:2},{x:-2,y:-2},{x:2,y:-2},{x:-2,y:2}],rotate:[e._90,e._180,e._270],steps:[{action:a.Rotate,directions:[e._90,e._180,e._270]},{action:a.Attack,coords:[{x:1,y:1},{x:-1,y:-1},{x:1,y:-1},{x:-1,y:1},{x:2,y:2},{x:-2,y:-2},{x:2,y:-2},{x:-2,y:2}],desc:"По диагонали в радиусе 2"}]},{targetCount:999,move:[],attack:[{x:1,y:1},{x:-1,y:-1},{x:1,y:-1},{x:-1,y:1},{x:2,y:2},{x:-2,y:-2},{x:2,y:-2},{x:-2,y:2},{x:3,y:3},{x:-3,y:-3},{x:3,y:-3},{x:-3,y:3}],rotate:[e._0,e._90,e._180,e._270],steps:[{action:a.Rotate,directions:[e._0,e._90,e._180,e._270]},{action:a.Attack,coords:[{x:1,y:1},{x:-1,y:-1},{x:1,y:-1},{x:-1,y:1},{x:2,y:2},{x:-2,y:-2},{x:2,y:-2},{x:-2,y:2},{x:3,y:3},{x:-3,y:-3},{x:3,y:-3},{x:-3,y:3}],desc:"По диагонали в радиусе 3"}]}]},{name:"Скорость",type:t.Electro,effects:[],levels:[{targetCount:0,move:[{x:0,y:1},{x:0,y:2}],attack:[],rotate:[],steps:[{action:a.Move,coords:[{x:0,y:1},{x:0,y:2}],desc:"1 или 2 клетки вперёд"}]},{targetCount:0,move:[{x:0,y:2},{x:0,y:3},{x:0,y:4}],attack:[],rotate:[],steps:[{action:a.Move,coords:[{x:0,y:2},{x:0,y:3},{x:0,y:4}],desc:"2, 3 или 4 клетки вперёд"}]},{targetCount:0,move:[{x:0,y:3},{x:0,y:4},{x:0,y:5},{x:0,y:6}],attack:[],rotate:[],steps:[{action:a.Move,coords:[{x:0,y:3},{x:0,y:4},{x:0,y:5},{x:0,y:6}],desc:"3, 4, 5 или 6 клеток вперёд"}]}]},{name:"Шаровая молния",type:t.Electro,effects:["ChainLightning"],levels:[{targetCount:1,move:[],attack:[{x:0,y:1}],rotate:[],steps:[{action:a.Attack,coords:[{x:0,y:1}],desc:"1 цель перед вами"}]},{targetCount:3,move:[],attack:[{x:0,y:1},{x:0,y:2},{x:0,y:3}],rotate:[],steps:[{action:a.Attack,coords:[{x:0,y:1},{x:0,y:2},{x:0,y:3}],desc:"3 цели перед вами"}]},{targetCount:5,move:[],attack:[{x:0,y:1},{x:0,y:2},{x:0,y:3},{x:0,y:4},{x:0,y:5}],rotate:[],steps:[{action:a.Attack,coords:[{x:0,y:1},{x:0,y:2},{x:0,y:3},{x:0,y:4},{x:0,y:5}],desc:"5 целей перед вами"}]}]},{name:"Move left disable",type:t.Defect,effects:[],levels:[{targetCount:0,move:[{x:-1,y:0}],attack:[],rotate:[],steps:[{action:a.Move,coords:[{x:-1,y:0}],desc:"1 клетка влево"}]},{targetCount:0,move:[{x:-1,y:0}],attack:[],rotate:[],steps:[{action:a.Move,coords:[{x:-1,y:0}],desc:"1 клетка влево"}]},{targetCount:0,move:[{x:-1,y:0}],attack:[],rotate:[],steps:[{action:a.Move,coords:[{x:-1,y:0}],desc:"1 клетка влево"}]},{targetCount:0,move:[{x:-1,y:0}],attack:[],rotate:[],steps:[{action:a.Move,coords:[{x:-1,y:0}],desc:"1 клетка влево"}]}]},{name:"Move backward disable",type:t.Defect,effects:[],levels:[{targetCount:0,move:[{x:0,y:-1}],attack:[],rotate:[],steps:[{action:a.Move,coords:[{x:0,y:-1}],desc:"1 клетка назад"}]},{targetCount:0,move:[{x:0,y:-1}],attack:[],rotate:[],steps:[{action:a.Move,coords:[{x:0,y:-1}],desc:"1 клетка назад"}]},{targetCount:0,move:[{x:0,y:-1}],attack:[],rotate:[],steps:[{action:a.Move,coords:[{x:0,y:-1}],desc:"1 клетка назад"}]},{targetCount:0,move:[{x:0,y:-1}],attack:[],rotate:[],steps:[{action:a.Move,coords:[{x:0,y:-1}],desc:"1 клетка назад"}]}]},{name:"Move forward disable",type:t.Defect,effects:[],levels:[{targetCount:0,move:[{x:0,y:1}],attack:[],rotate:[],steps:[{action:a.Move,coords:[{x:0,y:1}],desc:"1 клетка вперёд"}]},{targetCount:0,move:[{x:0,y:1}],attack:[],rotate:[],steps:[{action:a.Move,coords:[{x:0,y:1}],desc:"1 клетка вперёд"}]},{targetCount:0,move:[{x:0,y:1}],attack:[],rotate:[],steps:[{action:a.Move,coords:[{x:0,y:1}],desc:"1 клетка вперёд"}]},{targetCount:0,move:[{x:0,y:1}],attack:[],rotate:[],steps:[{action:a.Move,coords:[{x:0,y:1}],desc:"1 клетка вперёд"}]}]},{name:"Move right disable",type:t.Defect,effects:[],levels:[{targetCount:0,move:[{x:1,y:0}],attack:[],rotate:[],steps:[{action:a.Move,coords:[{x:1,y:0}],desc:"1 клетка вправо"}]},{targetCount:0,move:[{x:1,y:0}],attack:[],rotate:[],steps:[{action:a.Move,coords:[{x:1,y:0}],desc:"1 клетка вправо"}]},{targetCount:0,move:[{x:1,y:0}],attack:[],rotate:[],steps:[{action:a.Move,coords:[{x:1,y:0}],desc:"1 клетка вправо"}]},{targetCount:0,move:[{x:1,y:0}],attack:[],rotate:[],steps:[{action:a.Move,coords:[{x:1,y:0}],desc:"1 клетка вправо"}]}]}];var C={ctn:"_ctn_m040e_9",icons:"_icons_m040e_14",icon:"_icon_m040e_14",name:"_name_m040e_29",module:"_module_m040e_38",ctn_single:"_ctn_single_m040e_52",ctn_outline:"_ctn_outline_m040e_60",ctn_active:"_ctn_active_m040e_67",ctn_Electro:"_ctn_Electro_m040e_71",module_active:"_module_active_m040e_71",icon_Electro:"_icon_Electro_m040e_71",ctn_Metal:"_ctn_Metal_m040e_75",icon_Metal:"_icon_Metal_m040e_75",ctn_Fire:"_ctn_Fire_m040e_79",icon_Fire:"_icon_Fire_m040e_79",ctn_Computer:"_ctn_Computer_m040e_83",icon_Computer:"_icon_Computer_m040e_83",module_damaged:"_module_damaged_m040e_87",module_damage:"_module_damage_m040e_87",icon_Defect:"_icon_Defect_m040e_91",step:"_step_m040e_104",desc:"_desc_m040e_119"},f=c({components:{SvgIcon:y},data:()=>({sty:C}),props:{stack:{type:Array,required:!1,default:[]},idx:{type:Number,required:!1,default:null},select:{type:Boolean,required:!1,default:!1},active:{type:Boolean,required:!1,default:null}},setup:(e,y)=>{const c=x((()=>null!==e.idx?e.idx:null)),n=x((()=>c.value?g[c.value]:null)),r=x((()=>e.select)),d=x((()=>e.active)),i=x((()=>{var t;return null!=(t=c.value)?t:e.stack[e.stack.length-1]})),l=x((()=>{var t;return null!=(t=n.value)?t:g[i.value]})),_=x((()=>{const e=l.value;return(null==e?void 0:e.type)===t.Defect?i.value:void 0})),v=x((()=>_.value?g[_.value]:null)),u=x((()=>{const a={[t.Electro]:"types-lightning",[t.Metal]:"types-crown",[t.Fire]:"types-fire",[t.Computer]:"types-mech"},o=[];if(l.value){for(let y=0;y<e.stack.length-(v.value?1:0)+(null!==e.idx?1:0);y++)o.push({i:a[k.value.type],t:t[k.value.type]});v.value&&o.push({i:"types-warning",t:t[t.Defect]})}else for(const e in a)o.push({i:a[e],t:t[e]});return o})),m=x((()=>e.stack.length-1-(v.value?1:0))),p=x((()=>{var a;const o=e.stack.filter((e=>g[e].type!==t.Defect));return null!=(a=e.idx)?a:o[o.length-1]})),k=x((()=>g[p.value])),f=x((()=>k.value?C["ctn_"+t[k.value.type]]:""));const{t:M}=s();return{single:n,outline:r,outlineActive:d,topCard:l,damageCard:v,cardIcons:u,level:m,noDefectCard:k,cardTypeClass:f,stepIcon:function(t){return{[a.Rotate]:"rotate",[a.Attack]:"attack",[a.Move]:"move"}[t.action]},desc:(t,e,y,c=p.value)=>t.desc?M(`cards.${c}.levels.${e}.${y}`):t.action===a.Rotate?4===t.directions.length?M("card.2"):M("card.3",{values:t.directions.map((t=>o(t))).join(", ")}):t.action===a.Move?"move":t.action===a.Attack?"attack":void 0,damageCardId:_,noDefectCardIndex:p}}});f.render=function(t,e,a,o,y,c){var x,s,g;const C=n("SvgIcon");return r(),d(l,null,[i("div",{class:v([t.sty.icons])},[(r(!0),d(l,null,_(t.cardIcons,(e=>(r(),k(C,{class:v([t.sty.icon,{[t.sty["icon_"+e.t]]:!!t.topCard}]),name:e.i},null,8,["class","name"])))),256))],2),i("div",{class:v([t.sty.name])},u(t.damageCard?t.$t("card.0"):t.noDefectCard?t.$t("cards."+t.noDefectCardIndex+".name"):t.$t("card.1")),3),t.topCard?(r(),d("div",{key:0,class:v([t.sty.ctn,t.cardTypeClass,{[t.sty.ctn_single]:null!==t.single,[t.sty.ctn_outline]:t.outline,[t.sty.ctn_active]:t.outlineActive}])},[t.damageCard?(r(),d("div",{key:0,class:v([t.sty.module,t.sty.module_damage])},[i("div",{class:v(t.sty.step)},[m(C,{class:v([t.sty.icon]),name:t.stepIcon(null==(x=t.damageCard)?void 0:x.levels[0].steps[0])},null,8,["class","name"]),i("div",{class:v(t.sty.desc)},u(t.desc(null==(s=t.damageCard)?void 0:s.levels[0].steps[0],0,0,t.damageCardId)),3)],2)],2)):p("",!0),t.noDefectCard?(r(!0),d(l,{key:1},_(null==(g=t.noDefectCard)?void 0:g.levels,((e,a)=>(r(),d("div",{class:v([t.sty.module,{[t.sty.module_active]:a===t.level,[t.sty.module_damaged]:t.damageCard}])},[(r(!0),d(l,null,_(e.steps,((e,o)=>(r(),d("div",{class:v([t.sty.step])},[m(C,{class:v([t.sty.icon]),name:t.stepIcon(e)},null,8,["class","name"]),i("div",{class:v(t.sty.desc)},u(t.desc(e,a,o)),3)],2)))),256))],2)))),256)):p("",!0)],2)):p("",!0)],64)};export{f as _,g as c};
